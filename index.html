<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SYN QUOTE</title>
    <script src="https://synhf--jesus4.sandbox.my.site.com/lightning/lightning.out.js"></script>
  </head>

  <body>
    <h1>THIS IS A VODAFONE WEBSITE</h1>
    <div id="container"></div>
    <script>
      const appName = "c:previewExternalQuoteAura";
      const componentName = "c:previewExternalQuote";
      const lightningEndpoint = "https://synhf--jesus4.sandbox.my.site.com";
      const targetElement = document.querySelector("#container");

      const urlParams = new URLSearchParams(window.location.search);
      if(urlParams.has('quoteId')) {
        const quoteId = urlParams.get('quoteId');
        console.log("jll quoteId = ", quoteId);
        const componentAttributes = {
          "quoteId" : quoteId
        };
        
        $Lightning.use(appName, function () {
          $Lightning.createComponent(
            componentName,
            componentAttributes,
            targetElement,
            function (cmp) {
              console.log("jll lwc has been initiated!");
            },
            lightningEndpoint
          );
        });
      }
    </script>
  </body>
</html>
